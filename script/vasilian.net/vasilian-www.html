<!DOCTYPE html>
<html lang="en">
<head>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5QJ6HFM');</script>
<!-- End Google Tag Manager -->

<title>www.vasilian.net Web</title>
<link href="main.css" rel="stylesheet" type="text/css" media="all">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QJ6HFM"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<a href="index.html">Back to main index</a>
<h2>Setup www</h2>
<p>
Setup the <a href="dnsvasilian.html" target="_blank">domain.</a><br>
This guide assumes that DNS records have been setup correctly (A record for ipv4, AAA record for ipv6)
</p>
<p>
I used
<a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-apache-virtual-hosts-on-centos-7" target="_blank">this guide</a> 
to setup an Apache virtual host.
</p>

<pre>
sshocean                          # login to DigitalOcean as root
yum install httpd httpd-tools     # user & group "apache" get created now
</pre>

<p>Transfer the website to host</p>
<pre>
su mihai
cd $HOME/
mkdir Code
git clone https://github.com/grayasm/git-main.git git-main
exit               # back to root

cd /home/mihai/Code/git-main/script/vasilian.net
./httpd.update     # transfer the content
</pre>

<p>Now continue with the server setup.</p>
<pre>
ls -laZ /var/www/html
drwxr-xr-x. 3 apache apache unconfined_u:object_r:httpd_sys_content_t:s0 4096 Nov  1 20:03 vasilian.net

cd /etc/httpd
mkdir -v sites-enabled sites-available
</pre>

<p>Edit the server configuration.</p>
<pre>
cd conf
emacs httpd.conf

# change as follows:
DocumentRoot         "/var/www/html"
&lt;Directory           "/var/www/html"&gt;
    AllowOverride    None
    Require          all granted
&lt;/Directory&gt;

# add at the end of file
IncludeOptional      sites-enabled/*.conf
</pre>

<p>Edit vasilian.net.conf</p>

<pre>
cd /etc/httpd/sites-available
touch vasilian.net.conf           # end edit

# change as follows:
&lt;VirtualHost    *:80&gt;
    ServerName       www.vasilian.net
    ServerAlias      vasilian.net
    DocumentRoot     /var/www/html/vasilian.net
    ErrorLog         /var/log/vasilian.net-error.log
    CustomLog        /var/log/vasilian.net-requests.log combined
&lt;/VirtualHost&gt;
</pre>

<p>Finish the configuration and do the first test.</p>
<pre>
ln -s /etc/httpd/sites-available/vasilian.net.conf /etc/httpd/sites-enabled/vasilian.net.conf
systemctl enable httpd.service
systemctl start  httpd.service
</pre>

<br>
<a href="index.html">Back to main index</a>
</body>
</html>